<!DOCTYPE html>
<html lang="hu">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <link rel="stylesheet" href="../../../css/loginPage_global.css" />
  <link rel="stylesheet" href="../../../css/loginPage.css" />
  <link rel="icon" href="../../../images/logo0.png" type="image/png">
  <script src="../js/loginPage.js"></script>
  <script src="../script.js"></script>
  <title>Bejelentkezés</title>
</head>

<body>
  <div class="bejelentkezes">
    <div class="div">
      <img class="image" src="../../../images/loginPage/image-3.png" />
      <div class="frame">
        <div class="frame-2">
          <div class="frame-3">
            <div class="frame-4">
              <img class="logo" src="../../../images/loginPage/logo.png" />
              <div class="foodhub-stroke">
                <div class="overlap-group">
                  <img class="stroke" src="../../../images/loginPage/stroke-6.svg" />
                  <img class="img" src="../../../images/loginPage/stroke-5.svg" />
                  <img class="stroke-2" src="../../../images/loginPage/stroke-4.svg" />
                  <img class="stroke-3" src="../../../images/loginPage/stroke-3.svg" />
                  <img class="stroke-4" src="../../../images/loginPage/stroke-2.svg" />
                  <img class="stroke-5" src="../../../images/loginPage/stroke-1.svg" />
                  <img class="stroke-6" src="../../../images/loginPage/stroke.png" />
                </div>
              </div>
            </div>
            <div class="text-wrapper">Jelentkezz be!</div>
          </div>
          <div class="frame-border">
            <div class="frame-5">
              <div class="text-wrapper-2">E-mail cím:</div>
              <div class="frame-6">
                <input class="text-wrapper-3" type="email" id="email" placeholder="pl:&nbsp;&nbsp;foodhub@gmail.com"
                  required>
              </div>
            </div>
            <div class="frame-5">
              <div class="text-wrapper-2">Jelszó:</div>
              <div class="frame-6">
                <input class="text-wrapper-4" type="password" id="password" placeholder="pl:&nbsp;&nbsp;FoodHub12345"
                  required>
                <div class="div-wrapper">
                  <button type="button" class="text-wrapper-5" onclick="togglePassword()">Mutasd</button>
                </div>
              </div>
            </div>
            <p class="meg-nem">
              <span class="span">Még nem regisztráltál? </span> <span class="text-wrapper-6"><a
                  href="../regisztracio/registrationPage.html">Katt ide.</a></span>
            </p>
            <div class="bejelentkezes-wrapper">
              <button class="text-wrapper-7" type="submit" onclick="LoginButton()">Bejelentkezés</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <script>
    const form = document.getElementById('bejelentkezes');
    form.addEventListener("submit", (e) => {
      e.preventDefault();
      new FormData(form);
    })

    form.addEventListener("formdata", (e) => {
      const formData = e.formData;
      const data = {
        email: formData.get('email'),
        jelszo: formData.get('jelszo')
      }
    })

    postData("http://localhost:8000/api/login", data).then((data) => {
      if (data) {
        console.log(data.json());
        if (data.ok) {
          setTimeout(5000, window.location.href = "../adatok/fooldal_bej.html");
        }
      }
    }).catch((error) => {
      console.error("Hiba történt:", error);
    });
  </script>
</body>

</html>